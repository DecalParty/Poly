(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1630:function(e,t,a){Promise.resolve().then(a.bind(a,3712))},3712:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return V}});var s=a(7437),r=a(29),l=a.n(r),n=a(2265);let i=["BTC","ETH","SOL","XRP"],d={status:"stopped",connection:"disconnected",lastAction:"Idle",lastActionTime:null,currentMarket:null,currentPosition:null,settings:{paperTrading:!0,totalBankroll:50,maxTotalExposure:30,perWindowMax:12,maxSimultaneousPositions:2,dailyLossLimit:10,lossLimit:5,enabledAssets:["BTC"],highConfEntryMin:.9,highConfEntryMax:.95,highConfTimeMin:30,highConfTimeMax:480,highConfEnabled:!1,highConfBuyAmount:.1,highConfBuyInterval:5,arbEnabled:!1,arbMaxPerWindow:10,arbBudgetUp:null,arbBudgetDown:null,arbLadderLevels:[{price:.48,allocation:.4},{price:.46,allocation:.35},{price:.44,allocation:.25}],arbMaxCombinedCost:.97,arbCancelBeforeEnd:120,arbMarket:"BTC",scalpEnabled:!0,scalpTradeSize:12,scalpMaxPositions:2,scalpMinGap:.08,scalpProfitTarget:.07,scalpEntryMin:.4,scalpEntryMax:.7,scalpCooldownWindows:1},cumulativePnl:0,totalTrades:0,activeMarkets:{},positions:{},capital:{totalBankroll:50,deployed:0,available:30,maxExposure:30,todayPnl:0,winStreak:0,totalLosses:0},circuitBreaker:{triggered:!1,reason:null,resumeAt:null,dailyPnl:0,totalLosses:0},clobReady:!1,alerts:[],arbState:null,walletBalance:null,walletAddress:null,arbStats:{windowsPlayed:0,bothSidesFilled:0,oneSideFilled:0,neitherFilled:0,totalPnl:0,avgProfitPerWindow:0},scalp:{binancePrice:0,windowOpenPrice:0,btcChangePercent:0,fairValue:{up:.5,down:.5},positions:[],pendingBuys:[],cooldownUntil:0}};function c(e){let{botStatus:t,connection:a,sseConnected:r,lastAction:l,lastActionTime:n,paperTrading:i,cumulativePnl:d,totalTrades:c,clobReady:o,walletBalance:x,walletAddress:p,onSettingsClick:m}=e,h="running"===t;return(0,s.jsxs)("div",{className:"flex items-center justify-between px-5 py-2.5 bg-[#0c0e12] border-b border-white/[0.04]",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("span",{className:"text-[14px] font-bold tracking-tight text-gray-100",children:["POLY",(0,s.jsx)("span",{className:"text-blue-400",children:"BOT"})]}),(0,s.jsx)("div",{className:"w-px h-4 bg-white/[0.06]"}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("div",{className:"w-1.5 h-1.5 rounded-full ".concat(h?"bg-emerald-400 pulse-dot":"error"===t?"bg-red-400":"bg-gray-600")}),(0,s.jsx)("span",{className:"text-[12px] text-gray-400 capitalize",children:t})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("div",{className:"w-1 h-1 rounded-full ".concat(r?"bg-emerald-400":"bg-gray-600")}),(0,s.jsx)("span",{className:"text-[11px] text-gray-600",children:r?"Live":"Offline"})]}),(0,s.jsx)("span",{className:"px-2 py-0.5 rounded-md text-[10px] font-bold tracking-wider ".concat(i?"bg-amber-400/10 text-amber-400":"bg-red-400/10 text-red-400"),children:i?"PAPER":"LIVE"}),!i&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-px h-4 bg-white/[0.06]"}),(0,s.jsxs)("div",{className:"flex items-center gap-1",title:"Polymarket CLOB API",children:[(0,s.jsx)("div",{className:"w-1.5 h-1.5 rounded-full ".concat(o?"bg-emerald-400":"bg-red-400")}),(0,s.jsx)("span",{className:"text-[10px] text-gray-600",children:"CLOB"})]})]}),null!==x&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-px h-4 bg-white/[0.06]"}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5",title:p||"Wallet",children:[(0,s.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"text-gray-500",children:[(0,s.jsx)("rect",{x:"1",y:"4",width:"14",height:"10",rx:"2"}),(0,s.jsx)("path",{d:"M1 7h14"}),(0,s.jsx)("path",{d:"M4 1v3"})]}),(0,s.jsxs)("span",{className:"mono text-[12px] font-bold text-gray-200",children:["$",x.toFixed(2)]}),p&&(0,s.jsxs)("span",{className:"text-[10px] text-gray-600",children:[p.slice(0,6),"...",p.slice(-4)]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("span",{className:"text-[11px] text-gray-600",children:"P&L"}),(0,s.jsxs)("span",{className:"mono text-[13px] font-bold ".concat(d>=0?"text-emerald-400":"text-red-400"),children:[d>=0?"+":"","$",d.toFixed(2)]})]}),(0,s.jsx)("div",{className:"w-px h-4 bg-white/[0.06]"}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("span",{className:"text-[11px] text-gray-600",children:"Trades"}),(0,s.jsx)("span",{className:"mono text-[12px] text-gray-300",children:c})]}),(0,s.jsx)("div",{className:"w-px h-4 bg-white/[0.06]"}),(0,s.jsxs)("span",{className:"text-[11px] text-gray-600 max-w-[200px] truncate",children:[l,n&&(0,s.jsx)("span",{className:"ml-1 text-gray-700",children:new Date(n).toLocaleTimeString()})]}),m&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-px h-4 bg-white/[0.06]"}),(0,s.jsxs)("button",{onClick:m,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-gray-400 hover:text-gray-200 bg-white/[0.03] hover:bg-white/[0.06] border border-white/[0.06] hover:border-white/[0.1] transition-all duration-200",title:"Settings",children:[(0,s.jsxs)("svg",{width:"13",height:"13",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,s.jsx)("circle",{cx:"8",cy:"8",r:"2.5"}),(0,s.jsx)("path",{d:"M13.5 8a5.5 5.5 0 01-.3 1.8l1.3.7-1 1.7-1.3-.7a5.5 5.5 0 01-1.5 1l.1 1.5h-2l.1-1.5a5.5 5.5 0 01-1.5-1l-1.3.7-1-1.7 1.3-.7A5.5 5.5 0 012.5 8a5.5 5.5 0 01.3-1.8l-1.3-.7 1-1.7 1.3.7a5.5 5.5 0 011.5-1L5 2h2l-.1 1.5a5.5 5.5 0 011.5 1l1.3-.7 1 1.7-1.3.7A5.5 5.5 0 0113.5 8z"})]}),(0,s.jsx)("span",{className:"text-[11px] font-medium",children:"Settings"})]})]})]})]})}function o(e){let{status:t,settings:a,onStart:r,onStop:l,enabledAssets:i}=e,[d,c]=(0,n.useState)(!1),o="running"===t,p=!a.paperTrading,m=async()=>{c(!0);try{o?await l():await r()}catch(e){console.error(e)}c(!1)};return(0,s.jsxs)("div",{className:"card p-5 h-full flex flex-col ".concat(p?"ring-1 ring-red-500/20":""),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,s.jsx)("h2",{className:"text-[11px] font-semibold text-gray-500 uppercase tracking-widest",children:"Controls"}),p&&(0,s.jsxs)("span",{className:"flex items-center gap-1 px-2 py-0.5 rounded-md bg-red-500/10 border border-red-500/15",children:[(0,s.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-red-400 animate-pulse"}),(0,s.jsx)("span",{className:"text-[9px] font-bold text-red-400 tracking-wider",children:"LIVE TRADING"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full transition-colors ".concat(o?"bg-emerald-400 pulse-dot shadow-[0_0_8px_rgba(16,185,129,0.4)]":"error"===t?"bg-red-400":"bg-gray-700")}),(0,s.jsx)("span",{className:"text-[12px] font-medium capitalize text-gray-400",children:t})]}),!p&&(0,s.jsx)("span",{className:"px-2 py-0.5 rounded-md text-[9px] font-bold tracking-wider bg-amber-400/10 text-amber-400",children:"PAPER"}),(0,s.jsx)("button",{onClick:m,disabled:d,className:"px-5 py-1.5 rounded-lg text-[11px] font-bold tracking-wide transition-all duration-200 ".concat(o?"bg-red-500/10 text-red-400 border border-red-500/15 hover:bg-red-500/15":"bg-emerald-500/10 text-emerald-400 border border-emerald-500/15 hover:bg-emerald-500/15"," ").concat(d?"opacity-40 cursor-not-allowed":""),children:d?(0,s.jsx)("span",{className:"inline-block w-3 h-3 border-[1.5px] border-current border-t-transparent rounded-full animate-spin"}):o?"STOP":"START"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-6 gap-2",children:[(0,s.jsx)(x,{label:"Strategy",value:"DCA",sub:"Accumulator",color:"text-blue-400"}),(0,s.jsx)(x,{label:"Buy Size",value:"$".concat(a.highConfBuyAmount.toFixed(2)),sub:"per interval",color:"text-emerald-400"}),(0,s.jsx)(x,{label:"Interval",value:"".concat(a.highConfBuyInterval,"s"),sub:"between buys",color:"text-amber-400"}),(0,s.jsx)(x,{label:"Entry",value:"$".concat(a.highConfEntryMin," - $").concat(a.highConfEntryMax),sub:"price range",color:"text-gray-300"}),(0,s.jsx)(x,{label:"Mode",value:p?"Live":"Paper",sub:p?"real USDC":"simulated",color:p?"text-red-400":"text-amber-400"}),(0,s.jsx)(x,{label:"Window",value:"".concat(Math.floor(a.highConfTimeMax/60),"m"),sub:"max remaining",color:"text-gray-300"})]})]})}function x(e){let{label:t,value:a,sub:r,color:l}=e;return(0,s.jsxs)("div",{className:"rounded-lg bg-white/[0.02] border border-white/[0.04] px-2.5 py-2",children:[(0,s.jsx)("p",{className:"text-[7px] text-gray-600 uppercase tracking-wider mb-0.5",children:t}),(0,s.jsx)("p",{className:"text-[13px] font-bold leading-none ".concat(l),children:a}),(0,s.jsx)("p",{className:"text-[8px] text-gray-600 mt-0.5",children:r})]})}function p(e){let{capital:t,circuitBreaker:a}=e,r=t.maxExposure>0?t.deployed/t.maxExposure*100:0;return(0,s.jsxs)("div",{className:"card p-5",children:[(0,s.jsx)("h2",{className:"text-[11px] font-semibold text-gray-500 uppercase tracking-widest mb-4",children:"Capital"}),(0,s.jsxs)("div",{className:"text-center py-3 mb-4 rounded-xl bg-white/[0.015] border border-white/[0.04]",children:[(0,s.jsx)("p",{className:"text-[10px] text-gray-600 mb-1",children:"Today's P&L"}),(0,s.jsxs)("p",{className:"mono text-[28px] font-bold tracking-tight ".concat(t.todayPnl>=0?"text-emerald-400":"text-red-400"),children:[t.todayPnl>=0?"+":"","$",t.todayPnl.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,s.jsx)(m,{label:"Bankroll",children:(0,s.jsxs)("span",{className:"mono text-[13px] text-gray-200",children:["$",t.totalBankroll.toFixed(2)]})}),(0,s.jsx)(m,{label:"Deployed",children:(0,s.jsxs)("span",{className:"mono text-[13px] text-amber-400",children:["$",t.deployed.toFixed(2)]})}),(0,s.jsx)(m,{label:"Available",children:(0,s.jsxs)("span",{className:"mono text-[13px] text-emerald-400",children:["$",t.available.toFixed(2)]})})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("div",{className:"flex justify-between text-[10px] text-gray-600 mb-1.5",children:[(0,s.jsx)("span",{children:"Exposure"}),(0,s.jsxs)("span",{className:"mono",children:[r.toFixed(0),"%"]})]}),(0,s.jsx)("div",{className:"w-full h-1.5 rounded-full bg-white/[0.04] overflow-hidden",children:(0,s.jsx)("div",{className:"h-full rounded-full transition-all duration-700 ".concat(r>80?"bg-red-500/80":r>50?"bg-amber-500/60":"bg-emerald-500/60"),style:{width:"".concat(Math.min(100,r),"%")}})})]}),(0,s.jsxs)("div",{className:"border-t border-white/[0.04] pt-3 space-y-2",children:[(0,s.jsx)(m,{label:"Circuit Breaker",children:a.triggered?(0,s.jsx)("span",{className:"px-2 py-0.5 rounded-md text-[10px] font-bold bg-red-500/10 text-red-400 animate-pulse",children:"TRIGGERED"}):(0,s.jsx)("span",{className:"px-2 py-0.5 rounded-md text-[10px] font-bold bg-emerald-500/10 text-emerald-400",children:"ARMED"})}),a.triggered&&a.resumeAt&&(0,s.jsxs)("p",{className:"text-[10px] text-gray-600",children:["Resumes: ",new Date(a.resumeAt).toLocaleTimeString()]}),(0,s.jsx)(m,{label:"Win Streak",children:(0,s.jsx)("span",{className:"mono text-[13px] font-bold ".concat(t.winStreak>0?"text-emerald-400":"text-gray-600"),children:t.winStreak})}),(0,s.jsx)(m,{label:"Losses Today",children:(0,s.jsx)("span",{className:"mono text-[13px] font-bold ".concat(t.totalLosses>3?"text-red-400":"text-gray-600"),children:t.totalLosses})})]})]})}function m(e){let{label:t,children:a}=e;return(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-[11px] text-gray-500",children:t}),a]})}function h(e){var t,a,r;let{activeMarkets:l,scalp:i,settings:d,recentOutcomes:c}=e,[,o]=(0,n.useState)(0);(0,n.useEffect)(()=>{let e=setInterval(()=>o(e=>e+1),1e3);return()=>clearInterval(e)},[]);let x=l.BTC,p=null!==(t=null==x?void 0:x.secondsRemaining)&&void 0!==t?t:0,m=100*i.btcChangePercent,h=x?i.fairValue.up-x.yesPrice:0,b=x?i.fairValue.down-x.noPrice:0,u=h>=d.scalpMinGap&&x&&x.yesPrice>=d.scalpEntryMin&&x.yesPrice<=d.scalpEntryMax,g=b>=d.scalpMinGap&&x&&x.noPrice>=d.scalpEntryMin&&x.noPrice<=d.scalpEntryMax;return(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2",children:[(0,s.jsxs)("div",{className:"bg-[#111318] rounded-xl p-3 border border-white/[0.04]",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5 mb-1",children:[(0,s.jsx)("div",{className:"w-1.5 h-1.5 rounded-full ".concat(i.binancePrice>0?"bg-emerald-400 pulse-dot":"bg-gray-600")}),(0,s.jsx)("span",{className:"text-[10px] text-gray-500 font-medium uppercase tracking-wider",children:"Binance BTC"})]}),(0,s.jsxs)("div",{className:"mono text-[18px] font-bold text-gray-100",children:["$",i.binancePrice>0?i.binancePrice.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"---"]}),(0,s.jsxs)("div",{className:"mono text-[12px] font-semibold mt-0.5 ".concat(.05>Math.abs(m)?"text-gray-500":m>0?"text-emerald-400":"text-red-400"),children:[m>=0?"+":"",m.toFixed(3),"%",(0,s.jsx)("span",{className:"text-gray-600 ml-1",children:"from open"})]})]}),(0,s.jsxs)("div",{className:"bg-[#111318] rounded-xl p-3 border border-white/[0.04]",children:[(0,s.jsx)("div",{className:"flex items-center gap-1.5 mb-1",children:(0,s.jsx)("span",{className:"text-[10px] text-gray-500 font-medium uppercase tracking-wider",children:"Window"})}),(0,s.jsxs)("div",{className:"mono text-[18px] font-bold text-gray-100",children:[Math.floor(p/60),":",(p%60).toString().padStart(2,"0")]}),(0,s.jsx)("div",{className:"mt-1.5 h-1 bg-white/[0.04] rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full rounded-full transition-all duration-1000 ".concat(p<120?"bg-red-400":p<300?"bg-amber-400":"bg-blue-400"),style:{width:"".concat(Math.max(0,100-p/900*100),"%")}})})]}),(0,s.jsxs)("div",{className:"bg-[#111318] rounded-xl p-3 border ".concat(u?"border-emerald-500/30 bg-emerald-500/[0.03]":"border-white/[0.04]"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsx)("span",{className:"text-[10px] text-gray-500 font-medium uppercase tracking-wider",children:"UP (Yes)"}),u&&(0,s.jsx)("span",{className:"text-[9px] font-bold text-emerald-400 bg-emerald-400/10 px-1.5 py-0.5 rounded",children:"BUY"})]}),(0,s.jsxs)("div",{className:"mono text-[18px] font-bold text-emerald-400",children:["$",null!==(a=null==x?void 0:x.yesPrice.toFixed(2))&&void 0!==a?a:"---"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-0.5",children:[(0,s.jsx)("span",{className:"text-[10px] text-gray-500",children:"Fair"}),(0,s.jsxs)("span",{className:"mono text-[11px] text-gray-400",children:["$",i.fairValue.up.toFixed(2)]}),(0,s.jsxs)("span",{className:"mono text-[11px] font-semibold ".concat(h>=d.scalpMinGap?"text-emerald-400":"text-gray-600"),children:["gap ",h>=0?"+":"",h.toFixed(2)]})]})]}),(0,s.jsxs)("div",{className:"bg-[#111318] rounded-xl p-3 border ".concat(g?"border-red-500/30 bg-red-500/[0.03]":"border-white/[0.04]"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsx)("span",{className:"text-[10px] text-gray-500 font-medium uppercase tracking-wider",children:"DOWN (No)"}),g&&(0,s.jsx)("span",{className:"text-[9px] font-bold text-red-400 bg-red-400/10 px-1.5 py-0.5 rounded",children:"BUY"})]}),(0,s.jsxs)("div",{className:"mono text-[18px] font-bold text-red-400",children:["$",null!==(r=null==x?void 0:x.noPrice.toFixed(2))&&void 0!==r?r:"---"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-0.5",children:[(0,s.jsx)("span",{className:"text-[10px] text-gray-500",children:"Fair"}),(0,s.jsxs)("span",{className:"mono text-[11px] text-gray-400",children:["$",i.fairValue.down.toFixed(2)]}),(0,s.jsxs)("span",{className:"mono text-[11px] font-semibold ".concat(b>=d.scalpMinGap?"text-red-400":"text-gray-600"),children:["gap ",b>=0?"+":"",b.toFixed(2)]})]})]})]}),i.positions.length>0&&(0,s.jsxs)("div",{className:"bg-[#111318] rounded-xl border border-white/[0.04] overflow-hidden",children:[(0,s.jsx)("div",{className:"px-4 py-2.5 border-b border-white/[0.04]",children:(0,s.jsx)("span",{className:"text-[11px] font-semibold text-gray-500 uppercase tracking-widest",children:"Active Positions"})}),(0,s.jsx)("div",{className:"divide-y divide-white/[0.03]",children:i.positions.map(e=>(0,s.jsxs)("div",{className:"px-4 py-3 flex items-center gap-4",children:[(0,s.jsx)("span",{className:"text-[11px] font-bold px-2 py-0.5 rounded ".concat("yes"===e.side?"text-emerald-400 bg-emerald-400/10":"text-red-400 bg-red-400/10"),children:"yes"===e.side?"UP":"DOWN"}),(0,s.jsxs)("div",{className:"flex-1 grid grid-cols-4 gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-[9px] text-gray-600 uppercase",children:"Entry"}),(0,s.jsxs)("div",{className:"mono text-[12px] text-gray-300",children:["$",e.entryPrice.toFixed(2)]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-[9px] text-gray-600 uppercase",children:"Current"}),(0,s.jsxs)("div",{className:"mono text-[12px] text-gray-300",children:["$",e.currentPrice.toFixed(2)]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-[9px] text-gray-600 uppercase",children:"Target"}),(0,s.jsxs)("div",{className:"mono text-[12px] text-gray-300",children:["$",e.sellPrice.toFixed(2)]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-[9px] text-gray-600 uppercase",children:"P&L"}),(0,s.jsxs)("div",{className:"mono text-[12px] font-semibold ".concat(e.unrealizedPnl>=0?"text-emerald-400":"text-red-400"),children:[e.unrealizedPnl>=0?"+":"","$",e.unrealizedPnl.toFixed(4)]})]})]}),(0,s.jsxs)("div",{className:"mono text-[11px] text-gray-600",children:[e.shares.toFixed(1)," shares"]})]},e.id))})]}),i.pendingBuys.length>0&&(0,s.jsxs)("div",{className:"bg-[#111318] rounded-xl border border-amber-500/10 overflow-hidden",children:[(0,s.jsxs)("div",{className:"px-4 py-2.5 border-b border-white/[0.04] flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-400 animate-pulse"}),(0,s.jsx)("span",{className:"text-[11px] font-semibold text-gray-500 uppercase tracking-widest",children:"Pending Orders"})]}),(0,s.jsx)("div",{className:"divide-y divide-white/[0.03]",children:i.pendingBuys.map(e=>(0,s.jsxs)("div",{className:"px-4 py-2.5 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("span",{className:"text-[11px] font-bold ".concat("yes"===e.side?"text-emerald-400":"text-red-400"),children:["BUY ","yes"===e.side?"UP":"DOWN"]}),(0,s.jsxs)("span",{className:"mono text-[12px] text-gray-300",children:["$",e.price.toFixed(2)]}),(0,s.jsxs)("span",{className:"mono text-[11px] text-gray-600",children:[e.size.toFixed(1)," shares"]})]}),(0,s.jsx)("span",{className:"text-[10px] text-amber-400/60",children:"waiting for fill"})]},e.orderId))})]}),i.cooldownUntil>900*Math.floor(Date.now()/1e3/900)&&(0,s.jsx)("div",{className:"bg-amber-500/[0.04] border border-amber-500/10 rounded-xl px-4 py-2.5 flex items-center gap-2",children:(0,s.jsx)("span",{className:"text-[11px] text-amber-400",children:"Cooldown active - skipping entries after loss"})}),c.length>0&&(0,s.jsxs)("div",{className:"bg-[#111318] rounded-xl border border-white/[0.04] p-4",children:[(0,s.jsx)("div",{className:"text-[11px] font-semibold text-gray-500 uppercase tracking-widest mb-2",children:"Recent Windows"}),(0,s.jsx)("div",{className:"flex gap-1.5 flex-wrap",children:c.slice(0,12).map(e=>(0,s.jsxs)("div",{className:"px-2 py-1 rounded-md text-[10px] font-medium ".concat("up"===e.result?"bg-emerald-400/10 text-emerald-400":"down"===e.result?"bg-red-400/10 text-red-400":"bg-white/[0.04] text-gray-600"),children:[e.endTime," ","pending"===e.result?"?":e.result.toUpperCase()]},e.slug))})]})]})}var b=a(7625),u=a(1156),g=a(6940),j=a(7059),f=a(2994),y=a(8147),N=a(4962),v=a(4061),w=a(7031),k=a(1699),C=a(407);function S(e){let{data:t,dailyData:a=[]}=e,[r,l]=(0,n.useState)("7d"),i=(0,n.useMemo)(()=>{if("all"===r||0===t.length)return t;let e=Date.now(),a={"24h":e-864e5,"7d":e-6048e5,"30d":e-2592e6}[r];return t.filter(e=>new Date(e.timestamp).getTime()>=a)},[t,r]),d=(i.length>0?i[i.length-1].cumulativePnl:0)>=0?"#22c55e":"#ef4444",c=i.map(e=>({...e,time:new Date(e.timestamp).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})})),o=t.length>0?t[t.length-1].cumulativePnl:0,x=t.length,p=t.filter(e=>e.pnl>0).length,m=x>0?p/x*100:0,h=x>0?o/x:0,S=a.length>0?Math.max(...a.map(e=>e.pnl)):0,T=a.length>0?Math.min(...a.map(e=>e.pnl)):0;return(0,s.jsxs)("div",{className:"card p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h2",{className:"text-[11px] font-semibold text-gray-500 uppercase tracking-widest",children:"P&L"}),(0,s.jsx)("div",{className:"flex gap-1",children:["24h","7d","30d","all"].map(e=>(0,s.jsx)("button",{onClick:()=>l(e),className:"px-2 py-0.5 rounded text-[10px] font-medium transition-colors ".concat(r===e?"bg-accent-blue/15 text-accent-blue":"text-gray-600 hover:text-gray-400"),children:e.toUpperCase()},e))})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-2 mb-3",children:[(0,s.jsx)(P,{label:"Total P&L",value:"$".concat(o.toFixed(4)),color:o>=0?"text-accent-green":"text-accent-red"}),(0,s.jsx)(P,{label:"Win Rate",value:"".concat(m.toFixed(0),"%"),color:m>=50?"text-accent-green":"text-accent-red"}),(0,s.jsx)(P,{label:"Trades",value:String(x)}),(0,s.jsx)(P,{label:"Avg/Trade",value:"$".concat(h.toFixed(4)),color:h>=0?"text-accent-green":"text-accent-red"}),(0,s.jsx)(P,{label:"Best Day",value:"$".concat(S.toFixed(4)),color:"text-accent-green"}),(0,s.jsx)(P,{label:"Worst Day",value:"$".concat(T.toFixed(4)),color:"text-accent-red"})]}),c.length<2?(0,s.jsx)("div",{className:"flex items-center justify-center h-[200px] text-gray-600 text-[13px]",children:"Waiting for trade data..."}):(0,s.jsx)(b.h,{width:"100%",height:200,children:(0,s.jsxs)(u.w,{data:c,margin:{top:4,right:8,left:4,bottom:4},children:[(0,s.jsx)(g.q,{strokeDasharray:"3 3",stroke:"#1f232e",vertical:!1}),(0,s.jsx)(j.K,{dataKey:"time",tick:{fill:"#4b5060",fontSize:10},tickLine:!1,axisLine:{stroke:"#1f232e"}}),(0,s.jsx)(f.B,{tick:{fill:"#4b5060",fontSize:10},tickLine:!1,axisLine:!1,tickFormatter:e=>"$".concat(e.toFixed(2)),width:50}),(0,s.jsx)(y.u,{contentStyle:{backgroundColor:"#111318",border:"1px solid #1f232e",borderRadius:"8px",color:"#e2e5eb",fontSize:12,padding:"8px 12px"},formatter:e=>["$".concat(e.toFixed(4)),"P&L"],labelStyle:{color:"#6b7280",fontSize:11}}),(0,s.jsx)(N.d,{y:0,stroke:"#1f232e",strokeDasharray:"3 3"}),(0,s.jsx)(v.x,{type:"monotone",dataKey:"cumulativePnl",stroke:d,strokeWidth:1.5,dot:!1,activeDot:{r:3,fill:d,stroke:"#111318",strokeWidth:2}})]})}),a.length>0&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("p",{className:"text-[10px] text-gray-600 uppercase tracking-wide mb-2",children:"Daily P&L"}),(0,s.jsx)(b.h,{width:"100%",height:100,children:(0,s.jsxs)(w.v,{data:a,margin:{top:4,right:8,left:4,bottom:4},children:[(0,s.jsx)(g.q,{strokeDasharray:"3 3",stroke:"#1f232e",vertical:!1}),(0,s.jsx)(j.K,{dataKey:"date",tick:{fill:"#4b5060",fontSize:9},tickLine:!1,axisLine:{stroke:"#1f232e"},tickFormatter:e=>e.slice(5)}),(0,s.jsx)(f.B,{tick:{fill:"#4b5060",fontSize:9},tickLine:!1,axisLine:!1,tickFormatter:e=>"$".concat(e.toFixed(2)),width:45}),(0,s.jsx)(y.u,{contentStyle:{backgroundColor:"#111318",border:"1px solid #1f232e",borderRadius:"8px",color:"#e2e5eb",fontSize:11,padding:"6px 10px"},formatter:e=>["$".concat(e.toFixed(4)),"P&L"]}),(0,s.jsx)(N.d,{y:0,stroke:"#1f232e"}),(0,s.jsx)(k.$,{dataKey:"pnl",radius:[2,2,0,0],children:a.map((e,t)=>(0,s.jsx)(C.b,{fill:e.pnl>=0?"#22c55e":"#ef4444"},t))})]})})]})]})}function P(e){let{label:t,value:a,color:r}=e;return(0,s.jsxs)("div",{className:"bg-surface-hover rounded px-2 py-1.5",children:[(0,s.jsx)("p",{className:"text-[9px] text-gray-600 mb-0.5",children:t}),(0,s.jsx)("p",{className:"mono text-[12px] font-bold ".concat(r||"text-gray-300"),children:a})]})}function T(e){let{strategies:t}=e,a=t.find(e=>"highConfidence"===e.strategy)||{strategy:"highConfidence",trades:0,wins:0,losses:0,winRate:0,pnl:0,avgPnl:0};return(0,s.jsxs)("div",{className:"card p-4",children:[(0,s.jsx)("h2",{className:"text-[11px] font-semibold text-gray-500 uppercase tracking-widest mb-4",children:"Strategy"}),(0,s.jsxs)("div",{className:"rounded-xl border border-white/[0.06] bg-white/[0.015] p-4 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-[13px] font-semibold text-gray-200",children:"DCA Accumulator"}),(0,s.jsxs)("span",{className:"px-2 py-0.5 rounded-md text-[10px] font-bold tracking-wide ".concat(a.pnl>0?"bg-emerald-500/10 text-emerald-400":a.pnl<0?"bg-red-500/10 text-red-400":"bg-white/[0.04] text-gray-500"),children:[a.pnl>=0?"+":"","$",a.pnl.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsx)(M,{label:"Trades",value:a.trades.toString()}),(0,s.jsx)(M,{label:"Win Rate",value:a.trades>0?"".concat(a.winRate.toFixed(0),"%"):"�",color:a.winRate>=50?"text-emerald-400":a.trades>0?"text-red-400":void 0}),(0,s.jsx)(M,{label:"Wins",value:a.wins.toString(),color:"text-emerald-400"}),(0,s.jsx)(M,{label:"Losses",value:a.losses.toString(),color:a.losses>0?"text-red-400":void 0})]}),a.trades>0&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between text-[10px] text-gray-600 mb-1",children:[(0,s.jsx)("span",{children:"Win Rate"}),(0,s.jsxs)("span",{className:"mono",children:[a.winRate.toFixed(1),"%"]})]}),(0,s.jsx)("div",{className:"w-full h-1.5 rounded-full bg-white/[0.04] overflow-hidden",children:(0,s.jsx)("div",{className:"h-full rounded-full bg-gradient-to-r from-emerald-500/60 to-emerald-400/80 transition-all duration-700",style:{width:"".concat(Math.min(100,a.winRate),"%")}})})]})]})]})}function M(e){let{label:t,value:a,color:r}=e;return(0,s.jsxs)("div",{className:"bg-black/20 rounded-lg p-2.5",children:[(0,s.jsx)("p",{className:"text-[9px] text-gray-600 mb-0.5",children:t}),(0,s.jsx)("p",{className:"mono text-[15px] font-bold ".concat(r||"text-gray-300"),children:a})]})}let L={highConfidence:"High Conf",arbitrage:"Arbitrage"};function F(e){let{trades:t}=e,[a,r]=(0,n.useState)("all"),[l,i]=(0,n.useState)("all"),[d,c]=(0,n.useState)("all"),[o,x]=(0,n.useState)(0),p=(0,n.useMemo)(()=>{let e=t;return"all"!==a&&(e=e.filter(e=>e.asset===a)),"all"!==l&&(e=e.filter(e=>e.subStrategy===l)),"win"===d?e=e.filter(e=>null!==e.pnl&&e.pnl>0):"loss"===d&&(e=e.filter(e=>null!==e.pnl&&e.pnl<0)),e},[t,a,l,d]),m=Math.max(1,Math.ceil(p.length/20)),h=p.slice(20*o,(o+1)*20),b=p.reduce((e,t)=>{var a;return e+(null!==(a=t.pnl)&&void 0!==a?a:0)},0);return(0,s.jsxs)("div",{className:"card p-4",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-3",children:[(0,s.jsx)("h2",{className:"text-[11px] font-semibold text-gray-500 uppercase tracking-widest",children:"Trade History"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,s.jsx)(E,{value:a,onChange:e=>{r(e),x(0)},options:[{value:"all",label:"All Assets"},{value:"BTC",label:"BTC"},{value:"ETH",label:"ETH"},{value:"SOL",label:"SOL"},{value:"XRP",label:"XRP"}]}),(0,s.jsx)(E,{value:l,onChange:e=>{i(e),x(0)},options:[{value:"all",label:"All Strategies"},{value:"highConfidence",label:"High Conf"},{value:"arbitrage",label:"Arbitrage"}]}),(0,s.jsx)(E,{value:d,onChange:e=>{c(e),x(0)},options:[{value:"all",label:"All"},{value:"win",label:"Wins"},{value:"loss",label:"Losses"}]}),(0,s.jsxs)("span",{className:"text-[11px] text-gray-600 mono",children:[p.length," trades"]})]})]}),0===p.length?(0,s.jsx)("div",{className:"text-center py-8 text-gray-600 text-[13px]",children:"No trades match filters"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"overflow-auto max-h-[400px]",children:(0,s.jsxs)("table",{className:"w-full text-[12px]",children:[(0,s.jsxs)("thead",{className:"sticky top-0 bg-surface-card z-10",children:[(0,s.jsxs)("tr",{className:"text-[10px] text-gray-600 uppercase tracking-wider",children:[(0,s.jsx)("th",{className:"text-left py-2 pr-2 font-semibold",children:"Time"}),(0,s.jsx)("th",{className:"text-left py-2 pr-2 font-semibold",children:"Asset"}),(0,s.jsx)("th",{className:"text-left py-2 pr-2 font-semibold",children:"Strategy"}),(0,s.jsx)("th",{className:"text-left py-2 pr-2 font-semibold",children:"Action"}),(0,s.jsx)("th",{className:"text-left py-2 pr-2 font-semibold",children:"Side"}),(0,s.jsx)("th",{className:"text-right py-2 pr-2 font-semibold",children:"Price"}),(0,s.jsx)("th",{className:"text-right py-2 pr-2 font-semibold",children:"Amount"}),(0,s.jsx)("th",{className:"text-right py-2 pr-2 font-semibold",children:"Fee"}),(0,s.jsx)("th",{className:"text-right py-2 font-semibold",children:"P&L"})]}),(0,s.jsx)("tr",{children:(0,s.jsx)("th",{colSpan:9,className:"border-b border-surface-border p-0"})})]}),(0,s.jsx)("tbody",{children:h.map((e,t)=>{var a;let r=new Date(e.timestamp).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"});return(0,s.jsxs)("tr",{className:"border-b border-surface-border/40 hover:bg-surface-hover/50 transition-colors ".concat(null!==e.pnl&&0!==e.pnl?e.pnl>0?"bg-accent-green/[0.02]":"bg-accent-red/[0.02]":""),children:[(0,s.jsx)("td",{className:"py-2 pr-2 mono text-gray-400",children:r}),(0,s.jsx)("td",{className:"py-2 pr-2 text-gray-300 font-semibold",children:e.asset||"-"}),(0,s.jsx)("td",{className:"py-2 pr-2 text-gray-400 text-[10px]",children:e.subStrategy?L[e.subStrategy]||e.subStrategy:"-"}),(0,s.jsx)("td",{className:"py-2 pr-2",children:(0,s.jsx)("span",{className:"inline-block px-1.5 py-0.5 rounded text-[10px] font-semibold uppercase tracking-wide ".concat("buy"===e.action?"bg-accent-green/10 text-accent-green":"sell"===e.action?"bg-accent-red/10 text-accent-red":null!==e.pnl&&e.pnl>=0?"bg-emerald-500/10 text-emerald-400":"bg-red-500/10 text-red-400"),children:"resolution"===e.action?null!==e.pnl&&e.pnl>=0?"WON":"LOST":e.action})}),(0,s.jsx)("td",{className:"py-2 pr-2",children:"resolution"===e.action?(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("span",{className:"text-[10px] text-gray-500",children:["bet ","yes"===e.side?"UP":"DN"]}),(0,s.jsxs)("span",{className:"font-semibold text-[11px] ".concat(e.price>=.5?"text-accent-green":"text-accent-red"),children:[e.price>=.5?"UP":"DN"," won"]})]}):(0,s.jsx)("span",{className:"font-semibold uppercase ".concat("yes"===e.side?"text-accent-green":"text-accent-red"),children:"yes"===e.side?"UP":"DN"})}),(0,s.jsxs)("td",{className:"py-2 pr-2 text-right mono text-gray-300",children:["$",e.price.toFixed(4)]}),(0,s.jsxs)("td",{className:"py-2 pr-2 text-right mono text-gray-400",children:["$",e.amount.toFixed(4)]}),(0,s.jsx)("td",{className:"py-2 pr-2 text-right mono text-gray-600",children:null!==e.takerFee?"$".concat(e.takerFee.toFixed(4)):"-"}),(0,s.jsx)("td",{className:"py-2 text-right mono",children:null!==e.pnl?(0,s.jsxs)("span",{className:e.pnl>=0?"text-accent-green":"text-accent-red",children:[e.pnl>=0?"+":"","$",e.pnl.toFixed(4)]}):(0,s.jsx)("span",{className:"text-gray-700",children:"-"})})]},null!==(a=e.id)&&void 0!==a?a:"".concat(o,"-").concat(t))})})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-3 pt-2 border-t border-surface-border",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>x(e=>Math.max(0,e-1)),disabled:0===o,className:"px-2 py-1 rounded text-[11px] bg-surface-hover text-gray-400 disabled:opacity-30",children:"? Prev"}),(0,s.jsxs)("span",{className:"text-[11px] text-gray-500 mono",children:[o+1," / ",m]}),(0,s.jsx)("button",{onClick:()=>x(e=>Math.min(m-1,e+1)),disabled:o>=m-1,className:"px-2 py-1 rounded text-[11px] bg-surface-hover text-gray-400 disabled:opacity-30",children:"Next ?"})]}),(0,s.jsxs)("div",{className:"text-[11px]",children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Running P&L: "}),(0,s.jsxs)("span",{className:"mono font-bold ".concat(b>=0?"text-accent-green":"text-accent-red"),children:[b>=0?"+":"","$",b.toFixed(4)]})]})]})]})]})}function E(e){let{value:t,onChange:a,options:r}=e;return(0,s.jsx)("select",{value:t,onChange:e=>a(e.target.value),className:"text-[10px] px-2 py-1 rounded bg-surface-input border border-surface-border text-gray-400",children:r.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))})}let A={info:{icon:"?",color:"text-accent-blue"},success:{icon:"?",color:"text-accent-green"},warning:{icon:"?",color:"text-accent-yellow"},error:{icon:"?",color:"text-accent-red"}};function B(e){let{alerts:t,logs:a=[]}=e,r=(0,n.useRef)(null),[l,i]=(0,n.useState)("alerts");return(0,n.useEffect)(()=>{r.current&&(r.current.scrollTop=0)},[t.length,a.length]),(0,s.jsxs)("div",{className:"card p-4",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("button",{onClick:()=>i("alerts"),className:"text-[11px] font-semibold uppercase tracking-widest px-1 pb-0.5 border-b-2 transition-colors ".concat("alerts"===l?"text-gray-300 border-accent-blue":"text-gray-600 border-transparent hover:text-gray-400"),children:["Alerts (",t.length,")"]}),(0,s.jsxs)("button",{onClick:()=>i("log"),className:"text-[11px] font-semibold uppercase tracking-widest px-1 pb-0.5 border-b-2 transition-colors ".concat("log"===l?"text-gray-300 border-accent-blue":"text-gray-600 border-transparent hover:text-gray-400"),children:["Bot Log (",a.length,")"]})]})}),(0,s.jsx)("div",{ref:r,className:"space-y-1.5 max-h-[400px] overflow-auto",children:"alerts"===l?0===t.length?(0,s.jsx)("p",{className:"text-[12px] text-gray-600 text-center py-6",children:"No alerts yet"}):t.map(e=>{let t=A[e.severity]||A.info,a=new Date(e.timestamp).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"});return(0,s.jsxs)("div",{className:"flex gap-2 py-1.5 border-b border-surface-border/40",children:[(0,s.jsx)("span",{className:"text-[11px] flex-shrink-0 ".concat(t.color),children:t.icon}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("p",{className:"text-[11px] text-gray-300 leading-relaxed break-words",children:[e.asset&&(0,s.jsxs)("span",{className:"font-semibold text-gray-200 mr-1",children:["[",e.asset,"]"]}),e.message]}),(0,s.jsx)("p",{className:"text-[9px] text-gray-600 mono mt-0.5",children:a})]})]},e.id)}):0===a.length?(0,s.jsx)("p",{className:"text-[12px] text-gray-600 text-center py-6",children:"No log entries yet. Start the bot to see strategy decisions."}):a.map((e,t)=>(0,s.jsx)("div",{className:"py-1 border-b border-surface-border/20",children:(0,s.jsx)("p",{className:"text-[11px] text-gray-400 mono leading-relaxed break-words",children:e})},t))})]})}function R(e){var t,a,r,l,d,c,o,x,p;let{settings:m,botStatus:h,onSave:b,circuitBreaker:u,onResetCircuitBreaker:g,onResetStats:j}=e,[f,y]=(0,n.useState)(m),[N,v]=(0,n.useState)(!1),[w,k]=(0,n.useState)(!1),[C,S]=(0,n.useState)(!1),[P,T]=(0,n.useState)(""),[M,L]=(0,n.useState)(!1),[F,E]=(0,n.useState)(!1),[A,B]=(0,n.useState)(!1),[R,W]=(0,n.useState)(!1),[z,I]=(0,n.useState)({mode:!0,capital:!1,markets:!1,scalp:!0});(0,n.useEffect)(()=>{y(m)},[m]);let U="running"===h,V=(e,t)=>{y(a=>({...a,[e]:parseFloat(t)||0}))},G=(e,t)=>{y(a=>({...a,[e]:t}))},_=e=>{y(t=>{let a=t.enabledAssets||[],s=a.includes(e)?a.filter(t=>t!==e):[...a,e];return{...t,enabledAssets:s.length>0?s:[e]}})},H=e=>{I(t=>({...t,[e]:!t[e]}))},K=async()=>{v(!0),k(!1);try{(await b(f)).success&&(k(!0),setTimeout(()=>k(!1),2e3))}catch(e){}v(!1)},Y=JSON.stringify(f)!==JSON.stringify(m);return(0,s.jsxs)("div",{className:"space-y-3",children:[U&&(0,s.jsx)("div",{className:"px-4 py-2.5 rounded-xl bg-amber-500/[0.06] border border-amber-500/10",children:(0,s.jsx)("p",{className:"text-[11px] text-amber-400/90 font-medium",children:"Stop the bot to edit settings"})}),(0,s.jsx)(D,{title:"Trading Mode",open:z.mode,onToggle:()=>H("mode"),badge:f.paperTrading?{text:"PAPER",color:"text-amber-400 bg-amber-400/10"}:{text:"LIVE",color:"text-red-400 bg-red-400/10"},children:(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-xl border ".concat(f.paperTrading?"bg-white/[0.02] border-white/[0.04]":"bg-red-500/[0.04] border-red-500/15"),children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-[13px] font-medium text-gray-200",children:f.paperTrading?"Paper Trading":"Live Trading"}),(0,s.jsx)("p",{className:"text-[10px] text-gray-500 mt-0.5",children:f.paperTrading?"Simulated, no real money":"Real USDC on Polymarket"})]}),f.paperTrading?(0,s.jsx)("button",{onClick:()=>{U||S(!0)},disabled:U,className:"px-3 py-1.5 rounded-lg text-[11px] font-semibold bg-red-500/10 text-red-400 border border-red-500/15 hover:bg-red-500/15 transition-all disabled:opacity-30",children:"Go Live"}):(0,s.jsx)("button",{onClick:()=>{U||G("paperTrading",!0)},disabled:U,className:"px-3 py-1.5 rounded-lg text-[11px] font-semibold bg-white/[0.04] text-gray-400 border border-white/[0.06] hover:bg-white/[0.06] transition-all disabled:opacity-30",children:"Switch to Paper"})]})}),(0,s.jsx)(D,{title:"Capital",open:z.capital,onToggle:()=>H("capital"),subtitle:"$".concat(f.totalBankroll," bankroll"),children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsx)($,{label:"Total Bankroll",value:f.totalBankroll,field:"totalBankroll",onChange:V,disabled:U,prefix:"$",step:"5"}),(0,s.jsx)($,{label:"Max Exposure",value:f.maxTotalExposure,field:"maxTotalExposure",onChange:V,disabled:U,prefix:"$",step:"5"}),(0,s.jsx)($,{label:"Per Window Max",value:f.perWindowMax,field:"perWindowMax",onChange:V,disabled:U,prefix:"$",step:"1"}),(0,s.jsx)($,{label:"Max Positions",value:f.maxSimultaneousPositions,field:"maxSimultaneousPositions",onChange:V,disabled:U,step:"1"}),(0,s.jsx)($,{label:"Daily Loss Limit",value:f.dailyLossLimit,field:"dailyLossLimit",onChange:V,disabled:U,prefix:"$",step:"1"}),(0,s.jsx)($,{label:"Loss Limit",value:f.lossLimit,field:"lossLimit",onChange:V,disabled:U,step:"1"})]})}),(0,s.jsx)(D,{title:"Markets",open:z.markets,onToggle:()=>H("markets"),children:(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:i.map(e=>{let t=(f.enabledAssets||[]).includes(e);return(0,s.jsx)("button",{onClick:()=>!U&&_(e),disabled:U,className:"px-3.5 py-1.5 rounded-lg text-[11px] font-semibold border transition-all ".concat(t?"bg-blue-500/10 text-blue-400 border-blue-500/20":"bg-white/[0.02] text-gray-500 border-white/[0.06] hover:border-white/[0.1]"," ").concat(U?"opacity-30 cursor-not-allowed":"cursor-pointer"),children:e},e)})})}),(0,s.jsxs)(D,{title:"Scalp Strategy",open:z.scalp,onToggle:()=>H("scalp"),badge:!1!==f.scalpEnabled?{text:"ACTIVE",color:"text-emerald-400 bg-emerald-400/10"}:{text:"OFF",color:"text-gray-500 bg-white/[0.04]"},children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4 p-3 rounded-xl bg-white/[0.02] border border-white/[0.04]",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-[12px] font-medium text-gray-300",children:"Fair Value Scalper"}),(0,s.jsx)("p",{className:"text-[10px] text-gray-500 mt-0.5",children:"Buy undervalued shares when price lags BTC"})]}),(0,s.jsx)(O,{value:!1!==f.scalpEnabled,onChange:e=>G("scalpEnabled",e),disabled:U})]}),!1!==f.scalpEnabled&&(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsx)($,{label:"Trade Size",value:null!==(t=f.scalpTradeSize)&&void 0!==t?t:12,field:"scalpTradeSize",onChange:V,disabled:U,prefix:"$",step:"1"}),(0,s.jsx)($,{label:"Max Positions",value:null!==(a=f.scalpMaxPositions)&&void 0!==a?a:2,field:"scalpMaxPositions",onChange:V,disabled:U,step:"1"}),(0,s.jsx)($,{label:"Min Gap",value:null!==(r=f.scalpMinGap)&&void 0!==r?r:.08,field:"scalpMinGap",onChange:V,disabled:U,prefix:"$",step:"0.01"}),(0,s.jsx)($,{label:"Profit Target",value:null!==(l=f.scalpProfitTarget)&&void 0!==l?l:.07,field:"scalpProfitTarget",onChange:V,disabled:U,prefix:"$",step:"0.01"}),(0,s.jsx)($,{label:"Entry Min",value:null!==(d=f.scalpEntryMin)&&void 0!==d?d:.4,field:"scalpEntryMin",onChange:V,disabled:U,prefix:"$",step:"0.01"}),(0,s.jsx)($,{label:"Entry Max",value:null!==(c=f.scalpEntryMax)&&void 0!==c?c:.7,field:"scalpEntryMax",onChange:V,disabled:U,prefix:"$",step:"0.01"}),(0,s.jsx)($,{label:"Loss Cooldown",value:null!==(o=f.scalpCooldownWindows)&&void 0!==o?o:1,field:"scalpCooldownWindows",onChange:V,disabled:U,suffix:"win",step:"1"})]}),(0,s.jsxs)("div",{className:"rounded-xl bg-white/[0.015] border border-white/[0.04] p-3",children:[(0,s.jsx)("p",{className:"text-[10px] text-gray-500 font-semibold mb-1",children:"How it works"}),(0,s.jsxs)("p",{className:"text-[10px] text-gray-600 leading-relaxed",children:["Watches Binance BTC price and estimates fair share value. When Polymarket is ",((null!==(x=f.scalpMinGap)&&void 0!==x?x:.08)*100).toFixed(0),"+ cents below fair value, places a limit buy (zero fees). After fill, sells at entry + $",(null!==(p=f.scalpProfitTarget)&&void 0!==p?p:.07).toFixed(2),". Trails up if BTC moves. Time-based exit 2 min before resolution."]})]})]})]}),(0,s.jsx)("button",{onClick:K,disabled:!Y||N||U,className:"w-full py-2.5 rounded-xl text-[13px] font-semibold transition-all duration-300 ".concat(w?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":Y&&!U?"bg-blue-500/10 text-blue-400 border border-blue-500/20 hover:bg-blue-500/15":"bg-white/[0.03] text-gray-600 border border-white/[0.06] cursor-not-allowed"),children:N?"Saving...":w?"Saved":Y?"Save Changes":"No Changes"}),u.triggered&&(0,s.jsxs)("div",{className:"rounded-xl border border-red-500/15 bg-red-500/[0.04] p-4 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),(0,s.jsx)("span",{className:"text-[12px] font-semibold text-red-400",children:"Circuit Breaker Active"})]}),u.reason&&(0,s.jsx)("p",{className:"text-[11px] text-gray-400",children:u.reason}),M?(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>L(!1),className:"flex-1 py-2 rounded-xl text-[12px] bg-white/[0.04] text-gray-400 border border-white/[0.06]",children:"Cancel"}),(0,s.jsx)("button",{onClick:async()=>{E(!0);try{await g()}catch(e){}E(!1),L(!1)},disabled:F,className:"flex-1 py-2 rounded-xl text-[12px] font-semibold bg-red-500/15 text-red-400 border border-red-500/20 disabled:opacity-40",children:F?"Resetting...":"Confirm"})]}):(0,s.jsx)("button",{onClick:()=>L(!0),className:"w-full py-2 rounded-xl text-[12px] font-semibold bg-red-500/10 text-red-400 border border-red-500/15 hover:bg-red-500/15 transition-colors",children:"Disable Circuit Breaker"})]}),(0,s.jsxs)("div",{className:"rounded-xl border border-white/[0.06] bg-white/[0.015] p-4 space-y-3",children:[(0,s.jsx)("span",{className:"text-[12px] font-semibold text-gray-400",children:"Reset Stats"}),(0,s.jsx)("p",{className:"text-[10px] text-gray-600",children:"Delete all trade history and analytics."}),A?(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>B(!1),className:"flex-1 py-2 rounded-xl text-[12px] bg-white/[0.04] text-gray-400 border border-white/[0.06]",children:"Cancel"}),(0,s.jsx)("button",{onClick:async()=>{W(!0);try{await j()}catch(e){}W(!1),B(!1)},disabled:R,className:"flex-1 py-2 rounded-xl text-[12px] font-semibold bg-red-500/15 text-red-400 border border-red-500/20 disabled:opacity-40",children:R?"Deleting...":"Confirm Delete"})]}):(0,s.jsx)("button",{onClick:()=>B(!0),className:"w-full py-2 rounded-xl text-[12px] font-semibold bg-white/[0.04] text-gray-400 border border-white/[0.06] hover:bg-white/[0.06] transition-colors",children:"Reset All Stats"})]}),C&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-md",children:(0,s.jsxs)("div",{className:"bg-[#13151a] border border-red-500/20 rounded-2xl p-6 max-w-sm mx-4",children:[(0,s.jsx)("h3",{className:"text-[14px] font-semibold text-red-400 mb-3",children:"Switch to Live Trading"}),(0,s.jsxs)("p",{className:"text-[13px] text-gray-400 mb-4",children:["Real USDC trades. Type ",(0,s.jsx)("strong",{className:"text-gray-200",children:"CONFIRM"})," to proceed."]}),(0,s.jsx)("input",{type:"text",value:P,onChange:e=>T(e.target.value),placeholder:"Type CONFIRM",className:"w-full mb-3 px-3 py-2 rounded-xl text-[13px] mono bg-black/40 border border-white/[0.08] text-gray-200 focus:border-red-500/30 focus:outline-none"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>S(!1),className:"flex-1 py-2 rounded-xl text-[13px] bg-white/[0.04] text-gray-400 border border-white/[0.06]",children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>{"CONFIRM"===P&&(S(!1),G("paperTrading",!1))},disabled:"CONFIRM"!==P,className:"flex-1 py-2 rounded-xl text-[13px] bg-red-500/10 text-red-400 border border-red-500/20 font-medium disabled:opacity-30",children:"Enable Live"})]})]})})]})}function D(e){let{title:t,open:a,onToggle:r,children:l,badge:n,subtitle:i}=e;return(0,s.jsxs)("div",{className:"rounded-xl border border-white/[0.06] bg-white/[0.015] overflow-hidden",children:[(0,s.jsxs)("button",{type:"button",onClick:r,className:"w-full flex items-center justify-between px-4 py-3 hover:bg-white/[0.02] transition-colors text-left",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,s.jsx)("span",{className:"text-[9px] text-gray-600 transition-transform duration-200 ".concat(a?"rotate-90":""),children:"▶"}),(0,s.jsx)("span",{className:"text-[12px] font-semibold text-gray-200 tracking-wide",children:t}),n&&(0,s.jsx)("span",{className:"px-1.5 py-0.5 rounded-md text-[9px] font-bold tracking-wider ".concat(n.color),children:n.text})]}),i&&!a&&(0,s.jsx)("span",{className:"text-[10px] text-gray-600 mono",children:i})]}),(0,s.jsx)("div",{className:"overflow-hidden transition-all duration-300 ".concat(a?"max-h-[800px] opacity-100":"max-h-0 opacity-0"),children:(0,s.jsx)("div",{className:"px-4 pb-4 pt-1",children:l})})]})}function $(e){let{label:t,value:a,field:r,onChange:l,disabled:n,prefix:i,suffix:d,step:c}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-[10px] text-gray-500 font-medium mb-1.5 tracking-wide",children:t}),(0,s.jsxs)("div",{className:"relative",children:[i&&(0,s.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[10px] text-gray-600",children:i}),(0,s.jsx)("input",{type:"number",step:c,value:a,onChange:e=>l(r,e.target.value),disabled:n,className:"w-full mono text-[12px] py-2 rounded-xl bg-black/30 border border-white/[0.06] text-gray-200 focus:border-blue-500/30 focus:outline-none transition-all disabled:opacity-30 ".concat(i?"pl-7 pr-3":d?"pl-3 pr-10":"px-3")}),d&&(0,s.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[10px] text-gray-600",children:d})]})]})}function O(e){let{value:t,onChange:a,disabled:r}=e;return(0,s.jsx)("button",{type:"button",onClick:()=>!r&&a(!t),className:"relative w-9 h-5 rounded-full transition-all duration-300 ".concat(t?"bg-emerald-500/80":"bg-white/[0.08]"," ").concat(r?"opacity-30 cursor-not-allowed":"cursor-pointer"),children:(0,s.jsx)("span",{className:"absolute top-[3px] left-[3px] w-3.5 h-3.5 rounded-full bg-white shadow-sm transition-transform duration-300 ".concat(t?"translate-x-[16px]":"translate-x-0")})})}function W(){let[e,t]=(0,n.useState)(!1),[a,r]=(0,n.useState)(null),[l,i]=(0,n.useState)(null),d=(0,n.useCallback)(async()=>{t(!0),i(null);try{let e=await fetch("/api/setup/test"),t=await e.json();t.success?r(t.data):i(t.error||"Test failed")}catch(e){i(e instanceof Error?e.message:"Network error")}t(!1)},[]);return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"rounded-xl bg-blue-500/[0.04] border border-blue-500/10 p-4",children:[(0,s.jsx)("h3",{className:"text-[13px] font-semibold text-blue-400 mb-3",children:"How to go live"}),(0,s.jsx)("p",{className:"text-[11px] text-gray-400 leading-relaxed mb-4",children:"Everything happens on your VPS. Nothing to enter in the bot UI."}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(z,{n:1,title:"Get a VPS in Amsterdam",children:"Hetzner, Vultr, or DigitalOcean. Pick Amsterdam. ~$5/mo is fine."}),(0,s.jsx)(z,{n:2,title:"Clone & install on the VPS",children:(0,s.jsx)("code",{className:"block mt-1.5 px-3 py-2 rounded-lg bg-black/40 border border-white/[0.04] text-[10px] mono text-gray-400",children:"git clone your-repo && cd your-repo && npm install"})}),(0,s.jsxs)(z,{n:3,title:"Create .env.local on the VPS",children:[(0,s.jsxs)("p",{className:"text-gray-500 mb-2",children:["Create a file called ",(0,s.jsx)("code",{className:"px-1 py-0.5 rounded bg-white/[0.06] text-gray-400",children:".env.local"})," in the project folder with two lines:"]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(I,{name:"PRIVATE_KEY",value:"0x_from_metamask"}),(0,s.jsx)(I,{name:"FUNDER_ADDRESS",value:"0x_from_polymarket_profile"})]}),(0,s.jsxs)("p",{className:"text-[9px] text-gray-600 mt-2",children:["Private key: MetaMask → Account → Export Private Key",(0,s.jsx)("br",{}),"Funder address: polymarket.com → Profile → your wallet address"]})]}),(0,s.jsx)(z,{n:4,title:"Start the bot",children:(0,s.jsx)("code",{className:"block mt-1.5 px-3 py-2 rounded-lg bg-black/40 border border-white/[0.04] text-[10px] mono text-gray-400",children:"npm run build && npm start"})}),(0,s.jsx)(z,{n:5,title:"Test & switch to Live",children:"Hit the button below, check everything is green, then go to Settings → Trading Mode → Live."})]})]}),(0,s.jsx)("button",{onClick:d,disabled:e,className:"w-full py-3 rounded-xl text-[13px] font-semibold transition-all duration-300 ".concat(e?"bg-white/[0.04] text-gray-500 border border-white/[0.06] cursor-wait":"bg-blue-500/[0.08] text-blue-400 border border-blue-500/15 hover:bg-blue-500/[0.12]"),children:e?(0,s.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)("span",{className:"inline-block w-3.5 h-3.5 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Testing..."]}):a?"Re-test":"Test Connections"}),l&&(0,s.jsx)("div",{className:"px-4 py-2.5 rounded-xl bg-red-500/[0.06] border border-red-500/10",children:(0,s.jsx)("p",{className:"text-[11px] text-red-400",children:l})}),a&&(0,s.jsxs)("div",{className:"space-y-2",children:[["envVars","rpc","wallet","clobRead","clobAuth"].map((e,t)=>{let r=a.steps[e];return r?(0,s.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-xl border ".concat(r.ok?"bg-emerald-500/[0.02] border-emerald-500/10":"bg-white/[0.015] border-white/[0.04]"),children:[r.ok?(0,s.jsx)("div",{className:"w-5 h-5 rounded-full bg-emerald-500/15 flex items-center justify-center shrink-0 mt-0.5",children:(0,s.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 12 12",fill:"none",children:(0,s.jsx)("path",{d:"M2 6l3 3 5-5",stroke:"#10b981",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}):(0,s.jsx)("div",{className:"w-5 h-5 rounded-full bg-white/[0.06] flex items-center justify-center shrink-0 mt-0.5",children:(0,s.jsx)("span",{className:"text-[9px] text-gray-600 font-bold",children:t+1})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("span",{className:"text-[12px] font-medium text-gray-200",children:r.label}),(0,s.jsx)("p",{className:"text-[10px] text-gray-500 mt-0.5 break-all",children:r.detail})]})]},e):null}),(0,s.jsx)("div",{className:"p-4 rounded-xl border text-center ".concat(a.readyForLive?"bg-emerald-500/[0.04] border-emerald-500/15":"bg-white/[0.015] border-white/[0.06]"),children:a.readyForLive?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-[13px] font-semibold text-emerald-400",children:"Ready for Live Trading"}),(0,s.jsx)("p",{className:"text-[11px] text-gray-500 mt-1",children:"Go to Settings → Trading Mode → type CONFIRM"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-[13px] font-medium text-gray-400",children:"Not Ready"}),(0,s.jsx)("p",{className:"text-[11px] text-gray-600 mt-1",children:"Fix the failing steps, then re-test"})]})})]})]})}function z(e){let{n:t,title:a,children:r}=e;return(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("div",{className:"w-5 h-5 rounded-full bg-blue-500/10 flex items-center justify-center shrink-0 mt-0.5",children:(0,s.jsx)("span",{className:"text-[9px] font-bold text-blue-400",children:t})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-[12px] font-medium text-gray-200 mb-1",children:a}),(0,s.jsx)("div",{className:"text-[10px] text-gray-500 leading-relaxed",children:r})]})]})}function I(e){let{name:t,value:a}=e;return(0,s.jsxs)("div",{className:"flex items-center gap-1 py-1.5 px-3 rounded-lg bg-black/30 border border-white/[0.04] mono text-[10px]",children:[(0,s.jsx)("span",{className:"text-blue-400",children:t}),(0,s.jsx)("span",{className:"text-gray-600",children:"="}),(0,s.jsx)("span",{className:"text-gray-400",children:a})]})}let U={binancePrice:0,windowOpenPrice:0,btcChangePercent:0,fairValue:{up:.5,down:.5},positions:[],pendingBuys:[],cooldownUntil:0};function V(){var e;let{state:t,trades:a,pnlHistory:r,dailyPnl:i,strategyPerf:x,alerts:m,logs:b,sseConnected:u,startBot:g,stopBot:j,updateSettings:f,resetCircuitBreaker:y,resetStats:N,recentOutcomes:v,scalpData:w}=function(){let[e,t]=(0,n.useState)(d),[a,s]=(0,n.useState)([]),[r,l]=(0,n.useState)([]),[i,c]=(0,n.useState)([]),[o,x]=(0,n.useState)([]),[p,m]=(0,n.useState)([]),[h,b]=(0,n.useState)([]),[u,g]=(0,n.useState)([]),[j,f]=(0,n.useState)(null),[y,N]=(0,n.useState)(!1),v=(0,n.useRef)(null),w=(0,n.useCallback)(async()=>{try{let[e,a]=await Promise.all([fetch("/api/bot/status"),fetch("/api/trades")]),r=await e.json(),n=await a.json();r.success&&(t(r.data),r.data.alerts&&m(r.data.alerts)),n.success&&(s(n.data.trades),l(n.data.pnlHistory));try{let e=await fetch("/api/stats"),t=await e.json();t.success&&(t.data.daily&&c(t.data.daily),t.data.strategies&&x(t.data.strategies))}catch(e){}try{let e=await fetch("/api/outcomes"),t=await e.json();t.success&&Array.isArray(t.data)&&g(t.data)}catch(e){}}catch(e){console.error("Failed to fetch initial data:",e)}},[]);(0,n.useEffect)(()=>{w();let e=()=>{let a=new EventSource("/api/stream");v.current=a,a.onopen=()=>N(!0),a.onmessage=e=>{try{let a=JSON.parse(e.data);switch(a.type){case"state":t(a.data);break;case"price":{let e=a.data;t(t=>({...t,activeMarkets:e.markets?{...t.activeMarkets,...e.markets}:t.activeMarkets})),e.scalp&&f(e.scalp),e.recentOutcomes&&g(t=>{if(t.length!==e.recentOutcomes.length)return e.recentOutcomes;for(let a=0;a<t.length;a++)if(t[a].slug!==e.recentOutcomes[a].slug||t[a].result!==e.recentOutcomes[a].result)return e.recentOutcomes;return t});break}case"trade":s(e=>[a.data,...e].slice(0,200)),fetch("/api/trades").then(e=>e.json()).then(e=>{e.success&&l(e.data.pnlHistory)}),fetch("/api/stats").then(e=>e.json()).then(e=>{e.success&&(e.data.daily&&c(e.data.daily),e.data.strategies&&x(e.data.strategies))}).catch(()=>{});break;case"alert":m(e=>[a.data,...e].slice(0,100));break;case"log":b(e=>["[".concat(new Date().toLocaleTimeString(),"] ").concat(a.data.message),...e].slice(0,100))}}catch(e){}},a.onerror=()=>{N(!1),a.close(),setTimeout(e,3e3)}};return e(),()=>{var e;null===(e=v.current)||void 0===e||e.close()}},[w]);let k=(0,n.useCallback)(async()=>{let e=await fetch("/api/bot/start",{method:"POST"}),t=await e.json();if(!t.success)throw Error(t.error);await w()},[w]),C=(0,n.useCallback)(async()=>{let e=await fetch("/api/bot/stop",{method:"POST"}),t=await e.json();if(!t.success)throw Error(t.error);await w()},[w]);return{state:e,trades:a,pnlHistory:r,dailyPnl:i,strategyPerf:o,alerts:p,logs:h,recentOutcomes:u,scalpData:j,sseConnected:y,startBot:k,stopBot:C,updateSettings:(0,n.useCallback)(async e=>{let a=await fetch("/api/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await a.json();return s.success&&t(e=>({...e,settings:s.data})),s},[]),resetCircuitBreaker:(0,n.useCallback)(async()=>{let e=await fetch("/api/bot/circuit-breaker/reset",{method:"POST"}),t=await e.json();if(!t.success)throw Error(t.error);await w()},[w]),resetStats:(0,n.useCallback)(async()=>{let e=await fetch("/api/stats",{method:"DELETE"}),t=await e.json();if(!t.success)throw Error(t.error);s([]),l([]),c([]),x([]),await w()},[w])}}(),[k,C]=(0,n.useState)(!1),[P,M]=(0,n.useState)("settings"),[L,E]=(0,n.useState)("dashboard"),A=(null===(e=t.alerts)||void 0===e?void 0:e.length)>0?t.alerts:m,D=w||t.scalp||U;return(0,s.jsxs)("div",{className:"jsx-6bc4e57a8114dded min-h-screen flex flex-col bg-[#08090c]",children:[(0,s.jsx)(c,{botStatus:t.status,connection:t.connection,sseConnected:u,lastAction:t.lastAction,lastActionTime:t.lastActionTime,paperTrading:t.settings.paperTrading,cumulativePnl:t.cumulativePnl,totalTrades:t.totalTrades,clobReady:t.clobReady,walletBalance:t.walletBalance,walletAddress:t.walletAddress,onSettingsClick:()=>C(!0)}),!t.settings.paperTrading&&(0,s.jsxs)("div",{className:"jsx-6bc4e57a8114dded px-5 py-1.5 bg-red-500/[0.04] border-b border-red-500/10 flex items-center justify-center gap-2",children:[(0,s.jsx)("span",{className:"jsx-6bc4e57a8114dded w-1.5 h-1.5 rounded-full bg-red-400 animate-pulse"}),(0,s.jsx)("span",{className:"jsx-6bc4e57a8114dded text-[10px] font-bold text-red-400 tracking-wide",children:"LIVE TRADING ACTIVE"})]}),(0,s.jsx)("div",{className:"jsx-6bc4e57a8114dded px-5 pt-3 pb-0 max-w-[1600px] w-full mx-auto",children:(0,s.jsx)("div",{className:"jsx-6bc4e57a8114dded flex gap-0.5 bg-white/[0.02] rounded-xl p-0.5 w-fit border border-white/[0.04]",children:["dashboard","history","logs"].map(e=>(0,s.jsx)("button",{onClick:()=>E(e),className:"jsx-6bc4e57a8114dded "+"px-4 py-1.5 rounded-lg text-[12px] font-medium transition-all duration-200 ".concat(L===e?"bg-white/[0.08] text-gray-100 shadow-sm":"text-gray-500 hover:text-gray-300 hover:bg-white/[0.03]"),children:"dashboard"===e?"Dashboard":"history"===e?"History":"Logs"},e))})}),(0,s.jsxs)("div",{className:"jsx-6bc4e57a8114dded flex-1 p-4 lg:p-5 pt-3 max-w-[1600px] w-full mx-auto space-y-3",children:["dashboard"===L&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"jsx-6bc4e57a8114dded grid grid-cols-1 lg:grid-cols-3 gap-3 fade-in",children:[(0,s.jsx)("div",{className:"jsx-6bc4e57a8114dded lg:col-span-2",children:(0,s.jsx)(o,{status:t.status,settings:t.settings,onStart:g,onStop:j,enabledAssets:t.settings.enabledAssets})}),(0,s.jsx)(p,{capital:t.capital,circuitBreaker:t.circuitBreaker})]}),(0,s.jsx)("div",{style:{animationDelay:"25ms"},className:"jsx-6bc4e57a8114dded fade-in",children:(0,s.jsx)(h,{activeMarkets:t.activeMarkets,scalp:D,settings:t.settings,recentOutcomes:v})})]}),"history"===L&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"jsx-6bc4e57a8114dded fade-in",children:(0,s.jsx)(S,{data:r,dailyData:i})}),(0,s.jsxs)("div",{style:{animationDelay:"25ms"},className:"jsx-6bc4e57a8114dded grid grid-cols-1 lg:grid-cols-3 gap-3 fade-in",children:[(0,s.jsx)("div",{className:"jsx-6bc4e57a8114dded lg:col-span-2",children:(0,s.jsx)(F,{trades:a})}),(0,s.jsx)(T,{strategies:x})]})]}),"logs"===L&&(0,s.jsx)("div",{className:"jsx-6bc4e57a8114dded fade-in",children:(0,s.jsx)(B,{alerts:A,logs:b})})]}),k&&(0,s.jsxs)("div",{className:"jsx-6bc4e57a8114dded fixed inset-0 z-50 flex justify-end",children:[(0,s.jsx)("div",{onClick:()=>C(!1),className:"jsx-6bc4e57a8114dded absolute inset-0 bg-black/60 backdrop-blur-sm"}),(0,s.jsxs)("div",{style:{animation:"slideIn 0.25s ease-out"},className:"jsx-6bc4e57a8114dded relative w-full max-w-md bg-[#0c0e12] border-l border-white/[0.06] overflow-y-auto shadow-2xl",children:[(0,s.jsx)("div",{className:"jsx-6bc4e57a8114dded sticky top-0 z-10 bg-[#0c0e12]/90 backdrop-blur-md border-b border-white/[0.04]",children:(0,s.jsxs)("div",{className:"jsx-6bc4e57a8114dded flex items-center justify-between px-5 py-3",children:[(0,s.jsxs)("div",{className:"jsx-6bc4e57a8114dded flex gap-1",children:[(0,s.jsx)(G,{active:"settings"===P,onClick:()=>M("settings"),children:"Settings"}),(0,s.jsx)(G,{active:"setup"===P,onClick:()=>M("setup"),children:"Setup"})]}),(0,s.jsx)("button",{onClick:()=>C(!1),className:"jsx-6bc4e57a8114dded w-7 h-7 rounded-lg flex items-center justify-center text-gray-500 hover:text-gray-300 hover:bg-white/[0.04] transition-colors text-[16px]",children:"✕"})]})}),(0,s.jsx)("div",{className:"jsx-6bc4e57a8114dded p-5",children:"settings"===P?(0,s.jsx)(R,{settings:t.settings,botStatus:t.status,onSave:f,circuitBreaker:t.circuitBreaker,onResetCircuitBreaker:y,onResetStats:N}):(0,s.jsx)(W,{})})]})]}),(0,s.jsx)(l(),{id:"6bc4e57a8114dded",children:"@-webkit-keyframes slideIn{from{-webkit-transform:translatex(100%);transform:translatex(100%);opacity:0}to{-webkit-transform:translatex(0);transform:translatex(0);opacity:1}}@-moz-keyframes slideIn{from{-moz-transform:translatex(100%);transform:translatex(100%);opacity:0}to{-moz-transform:translatex(0);transform:translatex(0);opacity:1}}@-o-keyframes slideIn{from{-o-transform:translatex(100%);transform:translatex(100%);opacity:0}to{-o-transform:translatex(0);transform:translatex(0);opacity:1}}@keyframes slideIn{from{-webkit-transform:translatex(100%);-moz-transform:translatex(100%);-o-transform:translatex(100%);transform:translatex(100%);opacity:0}to{-webkit-transform:translatex(0);-moz-transform:translatex(0);-o-transform:translatex(0);transform:translatex(0);opacity:1}}"})]})}function G(e){let{active:t,onClick:a,children:r}=e;return(0,s.jsx)("button",{onClick:a,className:"px-3.5 py-1.5 rounded-lg text-[12px] font-medium transition-all ".concat(t?"bg-white/[0.06] text-gray-200":"text-gray-500 hover:text-gray-300 hover:bg-white/[0.03]"),children:r})}}},function(e){e.O(0,[106,971,117,744],function(){return e(e.s=1630)}),_N_E=e.O()}]);